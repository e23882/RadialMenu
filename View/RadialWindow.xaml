<Window
    x:Class="RadialMenu.RadialWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="RadialWindow"
    AllowsTransparency="True"
    Background="Transparent"
    ResizeMode="NoResize"
    ShowInTaskbar="False"
    SizeToContent="WidthAndHeight"
    Topmost="True"
    WindowStyle="None">

    <Grid
        x:Name="RootLayout"
        Width="200"
        Height="200"
        MouseLeave="RootLayout_MouseLeave"
        Opacity="{Binding PanelOpacity}">
        <Grid.Resources>
            <!--  Style for the pie-slice buttons  -->
            <Style x:Key="PieSliceButton" TargetType="Button">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Grid>
                                <!--  The Path defines the pie slice shape (top-right quadrant)  -->
                                <Path
                                    x:Name="ButtonPath"
                                    Data="M 100,100 L 100,0 A 100,100 0 0 1 200,100 Z"
                                    Fill="{TemplateBinding Background}"
                                    Stroke="#FF555555"
                                    StrokeThickness="1" />
                                <!--  The ContentPresenter displays the button's content (e.g., text)  -->
                                <ContentPresenter
                                    Margin="0,0,35,35"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center" />
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="ButtonPath" Property="Fill" Value="#AA555555" />
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter TargetName="ButtonPath" Property="Fill" Value="#AA000000" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
        </Grid.Resources>

        <!--  Top Button  -->
        <Button
            Command="{Binding TopButtonClickCommand}"
            Content="{Binding Button1Text}"
            Background="{Binding PanelColor}"
            RenderTransformOrigin="0.5,0.5"
            Style="{StaticResource PieSliceButton}">
            <Button.RenderTransform>
                <RotateTransform Angle="-90" />
            </Button.RenderTransform>
        </Button>

        <!--  Right Button  -->
        <Button
            Command="{Binding RightButtonClickCommand}"
            Content="{Binding Button2Text}"
            Background="{Binding PanelColor}"
            RenderTransformOrigin="0.5,0.5"
            Style="{StaticResource PieSliceButton}">
            <Button.RenderTransform>
                <RotateTransform Angle="0" />
            </Button.RenderTransform>
        </Button>

        <!--  Bottom Button  -->
        <Button
            Command="{Binding ButtonSideButtonClickCommand}"
            Content="{Binding Button3Text}"
            Background="{Binding PanelColor}"
            RenderTransformOrigin="0.5,0.5"
            Style="{StaticResource PieSliceButton}">
            <Button.RenderTransform>
                <RotateTransform Angle="90" />
            </Button.RenderTransform>
        </Button>

        <!--  Left Button  -->
        <Button
            Command="{Binding LeftButtonClickCommand}"
            Content="{Binding Button4Text}"
            Background="{Binding PanelColor}"
            RenderTransformOrigin="0.5,0.5"
            Style="{StaticResource PieSliceButton}">
            <Button.RenderTransform>
                <RotateTransform Angle="180" />
            </Button.RenderTransform>
        </Button>
    </Grid>
</Window>
